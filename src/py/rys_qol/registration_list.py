# Includes DLC fast travel probably not exhaustive but missing entries will be pushed to the bottom
# so it'll be easy to find out which ones are missing. This is also a subjective ordering I kinda
# think that the DLC entrances should be at the top but also shouldn't at the same time.
ALL_WITHOUT_CHECKPOINTS = [

    # DLC Entrants
    ("Oasis", "Oasis", "Scrap_Oasis_P.TheWorld:PersistentLevel.EmergencyTeleportOutpost_1"),
    # ("JakobsCove", "Jakobs Cove", "dlc1_island_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_1"),
    # ("Coliseum", "The Underdome", "dlc2_lobby_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_5"),
    # ("TBoneJunc", "T-Bone Junction", "dlc3_HUB_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_2"),
    # ("TartarusStation", "Tartarus Station", "DLC4_Tartarus_Station_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_1"),

    # Base Game
    ("Fyrestone", "Fyrestone", "arid_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_5"),
    ("SkagGully", "Skag Gully", "Arid_SkagGully_P.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("TheLostCave", "The Lost Cave", "Arid_Cave_P.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("DryEntranceSave", "The Arid Hills", "Dry_P.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("Bunker", "Sledge's Safe House", "Arid_Bunker_P.TheWorld:PersistentLevel.EmergencyTeleportOutpost_3"),
    ("HeadstoneMine", "Headstone Mine", "Arid_Mine_P.TheWorld:PersistentLevel.EmergencyTeleportOutpost_1"),
    ("SkullBandit", "Titan's End", "arid_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_1"),
    ("LuckysLastChanceWateringHole", "Lucky's Last Chance Watering Hole", "interlude_1_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_5"),
    ("NewHaven", "New Haven", "scrap_newhaven_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_1"),
    ("TetanusWarren", "Tetanus Warrens", "Scrap_TrashCave_P.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("Scrapyard", "Crazy Earl's Scrapyard", "scrap_scrapyard_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("TheUnderpass", "The Underpass", "scrap_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_3"),
    ("OuterYard", "The Outeryard", "scrap_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_1"),
    ("PirateBay", "Treacher's Landing", "Scrap_PirateBay_P.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("MiddleofNoWhere", "Middle of Nowhere", "Trash_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_4"),
    ("KCanyon", "Krom's Canyon", "Scrap_Canyon_P.TheWorld:PersistentLevel.EmergencyTeleportOutpost_4"),
    ("cauldren", "The Cauldron", "Trash_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_1"),
    ("OldHavenEntrance", "Old Haven", "Scrap_OldHaven_P.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("TrashCoast", "Trash Coast", "scrap_trashcoast_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("SaltFlats", "The Salt Flats", "Interlude_2_P.TheWorld:PersistentLevel.EmergencyTeleportOutpost_13"),
    ("Interlude2Cave", "The Back Door", "Interlude_2_Cave_P.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("Crimson_Fastness", "Crimson Fastness", "Waste_CrimsonBunker_P.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("CrimsonEnclave1", "Crimson Enclave", "Waste_Crimson_P.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("Descent1", "The Descent", "Waste_Descent_P.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("EridianPromontory", "Eridian Promontory", "Waste_Digsite_P.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("TheVault", "The Vault", "Waste_Vault_P.TheWorld:PersistentLevel.EmergencyTeleportOutpost_1"),

    # DLC1 Jakobs Cove
    ("JakobsCove", "Jakobs Cove", "dlc1_island_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_1"),
    ("HallowsEndEntranceSave", "Hallow's End", "dlc1_swamp_ned_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_11"),
    ("HallowsEndTownEntranceSave", "Hallow's End - Town", "dlc1_swamp_ned_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("GenerallyHospitalEntranceSave", "Generally Hospital", "dlc1_monsterhouse_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("DeadHavenEntranceSave", "Dead Haven", "dlc1_zombiehaven_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("LumberYardEntranceSave", "Lumber Yard", "dlc1_mill_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_10"),
    ("LumberYardBridgeEntranceSave", "Lumber Yard - Bridge", "dlc1_mill_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("MillEntranceSave", "The Mill", "dlc1_mill_boss_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),

    # DLC2 Underdome
    ("Coliseum", "The Underdome", "dlc2_lobby_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_5"),

    # DLC3 General Knoxx
    ("TBoneJunc", "T-Bone Junction", "dlc3_HUB_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_2"),
    ("TollwayEntranceSave", "The Crimson Tollway", "dlc3_SLanceStrip_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("DeepFathomsEntranceSave", "Deep Fathoms", "dlc3_southlake_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("MoxxisRedLightEntranceSave", "Moxxi's Red Light", "dlc3_MoxxiePlace_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("RidgewayEntranceSave", "The Ridgeway", "dlc3_NLanceStrip_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_3"),
    ("RidgewayMidpointEntranceSave", "The Ridgeway - Checkpoint", "dlc3_NLanceStrip_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("SunkenSeaEntranceSave", "Sunken Sea", "dlc3_lakebed_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("PrisonEntranceSave", "Lockdown Palace", "dlc3_prison_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("RoadsEndEntranceSave", "Road's End", "dlc3_gondola_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("CrimsonArmoryEntranceSave", "Crimson Armory", "dlc3_lancedepot_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("CircleOfDutyEndEntranceSave", "Circle of Duty", "dlc3_circle_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),
    ("CrawmeraxsLairEntranceSave", "Crawmerax's Lair", "dlc3_uberboss_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_0"),

    # DLC4 Claptrap Revolution
    ("TartarusStation", "Tartarus Station", "DLC4_Tartarus_Station_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_1"),
    ("HDFastTravel", "Hyperion Dump", "DLC4_Hyperion_Dump_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_1"),
    ("tartarusstationtown", "Tartarus Station - Town", "DLC4_Tartarus_Station_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_4"),
    ("SGFastTravel", "Sanders Gorge", "DLC4_Sanders_Gorge_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_1"),
    ("DFFastTravel", "Dividing Faults", "DLC4_Dividing_Faults_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_1"),
    ("SSCFastTravel", "Scorched Snake Canyon", "DLC4_SS_Canyon_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_1"),
    ("WaywardPassfasttravel", "Wayward Pass", "DLC4_Wayward_Pass_p.TheWorld:PersistentLevel.EmergencyTeleportOutpost_1"),
]


def get_level_name_from_outpost_path(outpost_path: str) -> str | None:
    xs = outpost_path.split(".")
    if len(xs) >= 2 and xs[1].startswith("TheWorld"):
        return xs[0]
    return None


def get_outpost(index: int) -> tuple[str, str, str]:
    return ALL_WITHOUT_CHECKPOINTS[index]


def find_outpost(outpost_name: str) -> int:
    for i, outpost in enumerate(ALL_WITHOUT_CHECKPOINTS):
        if outpost[0] == outpost_name:
            return i
    return -1


def compare_outpost(left, right) -> int:
    a: int = find_outpost(str(left))
    b: int = find_outpost(str(right))

    # If an entry is not known it gets pushed to the bottom of the list
    # all checkpoint outposts are unknown
    if a == -1 or b == -1:
        if a != -1:  # a is known so push it up
            return -1
        return 1  # a is not known so push it down

    if a < b:
        return -1  # Move up
    elif a > b:
        return 1  # Move down
    else:
        return 0
